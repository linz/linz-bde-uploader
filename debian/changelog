linz-bde-uploader (1.3.5-1) precise; urgency=low

  [ Jeremy Palmer ]
  * ensure patch checks that table is versioned
  * ensure logging package is imported into BdeUploaderDataDef class
  * fix declaration
  * Ensure that training tiles are removed from the simple title memorial tables
  * Fix typo in commit from 765a797d92

  [ Joseph Ramsay ]
  * Patch to update name_and_date column from varchar(100) to varchar(200) on tables bde.crs_statute and table_version.bde_crs_statute_revision

 -- Joseph Ramsay <jramsay@linz.govt.nz>  Fri, 16 May 2014 10:40:26 +1200

linz-bde-uploader (1.3.4-1) lucid; urgency=low

  * Ensure SQL RAISE messages have the correct number of parameters

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Wed, 18 Sep 2013 14:37:58 +1200

linz-bde-uploader (1.3.3-1) lucid; urgency=low

  * Fix syntax error for title memorial creation sql
  * Fix memorial diff
  * Improve memorial text sorting. Clean up SQL
  * Fix bug with memorial extended text SQL
  * Ensure literal regex is escaped. wasn't noticed on PG 9.1, but was a
    problem on 9.0
  * Improve performance for title memorial differencing
  * ensure memorial text is sorted correctly when sequence no is larger
    than 9

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Mon, 16 Sep 2013 12:30:52 +1200

linz-bde-uploader (1.3.2-1) lucid; urgency=low

  * Add title memorials dataset
  * Improve title memorial aggregation ordering
  * Really make sure memorial aggregation order is correct

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Fri, 06 Sep 2013 17:37:02 +1200

linz-bde-uploader (1.3.1-1) lucid; urgency=low

  * Update observation layers to contain the start and end mark name
  * Improve observation query performance. Make note about data quality
    issue

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Fri, 23 Aug 2013 13:12:04 +1200

linz-bde-uploader (1.3.0-1) lucid; urgency=low

  * Ensure that control characters within BDE file that are not
    printable in XML are not carried through to PostgreSQL
  * Updated BDE processor to support bad control character and to fix
    current problems in the database

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Fri, 21 Jun 2013 13:41:11 +1200

linz-bde-uploader (1.2.9-1) lucid; urgency=low

  * Ensure upload process stops when bde_copy error is reported

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Thu, 16 May 2013 14:37:10 +1200

linz-bde-uploader (1.2.8-1) lucid; urgency=low

  * Fixed bug relating to 286468ae09 where schema prefix was not being
    explicitly used in patch

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Wed, 15 May 2013 11:38:26 +1200

linz-bde-uploader (1.2.7-1) lucid; urgency=low

  * Rebuild BDE table primary keys using versioned table column key
  * remove debugging message

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Fri, 10 May 2013 14:44:40 +1200

linz-bde-uploader (1.2.6-1) lucid; urgency=low

  * Remove dropping of connections by default
  * Add new street address layer schema for NZPost

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Fri, 03 May 2013 15:54:23 +1200

linz-bde-uploader (1.2.5-1) lucid; urgency=low

  * Fixed table version diff bug [issue #19]
  * Included first unit tests for table version functions using pgTAP

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Wed, 09 Jan 2013 14:22:20 +1300

linz-bde-uploader (1.2.4-1) precise; urgency=low

  * Apply patch to upgrade table version functions. Relates to 85ee4a219a [issue #10]
  * Improved patch from 85ee4a2 to ensure existing functions with modified signatures are cleaned up
  * Add status column to title estate and owner tables. Keep status quo with registered data - but likely to expand in future to include historic data

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Wed, 19 Dec 2012 21:18:17 +1300

linz-bde-uploader (1.2.3-1) precise; urgency=low

  * Fix bug in observation patch [issue #9]

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Fri, 14 Dec 2012 13:44:41 +1300

linz-bde-uploader (1.2.2-1) precise; urgency=low

  * Set new All Linear Parcels calc area to NULL
  * Fix table constraint for all linear parcels

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Thu, 13 Dec 2012 10:25:58 +1300

linz-bde-uploader (1.2.1-1) precise; urgency=low

  * Fix obs patch
  * Fix another syntax error for new aspatial patches
  * Fix Title layer SQL error

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Wed, 12 Dec 2012 11:37:53 +1300

linz-bde-uploader (1.2.0-1) precise; urgency=low

  * Support for aspatial tables
  * Ensure version tables have correct permission applied.
  * Fix observation shape vertex order to be the same as observation direction
  * Include all parcel parcels layer. This contains parcels that are not pending. 
    i.e Current, Approved, Historic and Survey Historic

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Mon, 10 Dec 2012 13:09:40 +1300

linz-bde-uploader (1.1.6-1) precise; urgency=low

  * Apply ver_get function permission changes

 -- Joseph Ramsay <jramsay@linz.govt.nz>  Thu, 01 Nov 2012 10:43:51 +1300

linz-bde-uploader (1.1.5-1) precise; urgency=low

  * Upgrade to fix user permission problems identified with issue #8

 -- Joseph Ramsay <jramsay@linz.govt.nz>  Wed, 31 Oct 2012 16:48:09 +1300

linz-bde-uploader (1.1.4-1) lucid; urgency=low

  [ Craig de Stigter ]
  * fix extra 'inserts' in diff output, from rows that were created and
    then deleted during the diff window.

  [ Joseph Ramsay ]

 -- Joseph Ramsay <jramsay@linz.govt.nz>  Tue, 30 Oct 2012 15:58:46 +1300

linz-bde-uploader (1.1.3-1) precise; urgency=low

  * Fix for Geodetic message 2

 -- Joseph Ramsay <jramsay@linz.govt.nz>  Tue, 25 Sep 2012 09:24:36 +1200

linz-bde-uploader (1.1.2-1) precise; urgency=low

  * geodetic message fix
  * Revert "geodetic message fix"
  * geodetic message fix

 -- Joseph Ramsay <jramsay@linz.govt.nz>  Tue, 18 Sep 2012 15:03:04 +1200

linz-bde-uploader (1.1.1-1) UNRELEASED; urgency=low

  * Fixed bug with creation of LDS schema.

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Tue, 20 Mar 2012 11:01:02 +1200

linz-bde-uploader (1.1.0-1) UNRELEASED; urgency=low

  * Added 3 new layers. WACA and SPI adjustments and Mesh Blocks
  * Fixes to generation of Road centreline datasets
  * Defined all fields width to better support FGBD exports on LDS
  * Added rna_id to street_address layer
  * Improved the performance of the survey observation differencing
  * Improved logging to allow for 99 rotated files
  * Added accuracy values observation related layers
  * Rounded calc_area to whole number

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Wed, 13 Mar 2012 17:37:40 +1200

linz-bde-uploader (1.0.2-1) UNRELEASED; urgency=low

  * Added new logging system based on log4perl. This removes all logging to db.

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Thu, 14 Jul 2011 12:06:50 +1200

linz-bde-uploader (1.0.1-1) UNRELEASED; urgency=low

  * Added runtime to email output
  * Fixed run_bde_upload logging
  * Fixed issue with logging before database connection is made
  * Refactor handling of incremental data application. 

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Wed, 22 Jun 2011 15:28:00 +1200

linz-bde-uploader (1.0.0-1) UNRELEASED; urgency=low

  * Initial release.

 -- Jeremy Palmer <jpalmer@linz.govt.nz>  Fri, 6 May 2011 11:58:00 +1200
